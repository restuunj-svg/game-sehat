:root{
  --pink:#ffcce5;
  --pink-2:#ffe6f3;
  --pink-3:#ff9ed1;
  --pink-4:#ff5fb2;
  --white:#fff;
  --shadow:0 10px 20px rgba(255,105,180,.25);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family:"Baloo 2", system-ui, -apple-system, sans-serif;
  background:var(--pink);
  color:#7d2b58;
  overflow:hidden;
}

/* Slides */
.slide{position:absolute;inset:0;display:none}
.slide--active{display:block}

/* Star field (slide 1) */
#starField{position:absolute;inset:0;overflow:hidden;z-index:0}
.star{
  position:absolute;width:6px;height:6px;border-radius:50%;
  background:var(--white);opacity:.9;filter:drop-shadow(0 0 6px #fff);
  animation:fall linear infinite;
}
@keyframes fall{
  0%{transform:translateY(-10px) scale(1)}
  100%{transform:translateY(100vh) scale(.6);opacity:.2}
}

/* Intro card */
.intro{
  position:relative;z-index:1;height:100%;display:flex;flex-direction:column;
  align-items:center;justify-content:center;padding:24px;text-align:center;
}
.intro h1{color:#ff3f9f;font-size:2rem;margin-bottom:14px;text-shadow:0 2px #ffd5ea}

.card{
  width:min(420px,90vw);background:var(--white);border-radius:24px;padding:18px;
  box-shadow:var(--shadow);border:3px solid var(--pink-3);
}
.card input{
  width:100%;padding:12px 14px;margin:8px 0;border:3px solid var(--pink-3);
  border-radius:16px;background:var(--pink-2);outline:none;font-size:16px;
}
.btn{
  display:inline-block;border:none;border-radius:18px;padding:12px 18px;
  background:#ff78c5;color:#fff;font-weight:700;cursor:pointer;box-shadow:var(--shadow);
  transition:transform .12s ease, filter .12s ease;
}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:scale(.94)}
.btn--primary{background:var(--pink-4)}
.btn--danger{background:#ff5a7a}

/* Slide 2 */
#gameContainer{
  position:absolute;inset:0;background:linear-gradient(180deg,#ffeaf6,#ffd0e9);
  overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;
}
#gameArea{
  position:relative;height:100%;min-width:2600px; /* panjang rute */
}
.hud{
  position:absolute;top:12px;left:12px;z-index:5;display:flex;gap:10px
}
.badge{
  background:var(--white);border:3px solid var(--pink-3);border-radius:20px;
  padding:6px 12px;box-shadow:var(--shadow);font-weight:700
}

/* Character */
.character{
  position:absolute;bottom:160px;left:40px;width:140px;transition:all .45s ease;
  filter:drop-shadow(0 8px 16px rgba(0,0,0,.2));
}
.waving{animation:wave 1.4s ease-in-out infinite}
@keyframes wave{
  0%,100%{transform:rotate(0) translateY(0)}
  50%{transform:rotate(-3deg) translateY(-6px)}
}

/* Route & checkpoints */
.route{position:absolute;left:120px;right:120px;bottom:90px;height:160px;display:flex;align-items:flex-end;gap:140px}
.cp{position:relative;width:72px;height:72px;border-radius:50%;background:#fff;border:4px solid var(--pink-3);box-shadow:var(--shadow)}
.cp.finish{background:gold;border-color:#ffb100}
.cp .pad{
  position:absolute;left:50%;transform:translateX(-50%);bottom:-24px;width:88px;height:16px;border-radius:12px;background:#ffd5ea;border:3px solid var(--pink-3)
}
.links::before{
  content:"";position:absolute;left:-120px;right:-120px;bottom:120px;height:6px;background:repeating-linear-gradient(90deg,#ffb3d8 0 24px,#ff87c6 24px 48px);
  border-radius:8px;opacity:.8
}

/* Controls */
.controls{
  position:absolute;right:18px;bottom:18px;z-index:6;display:flex;flex-direction:column;gap:12px
}
.btn-icon{
  width:72px;height:72px;border-radius:22px;border:4px solid var(--pink-3);background:var(--white);
  display:grid;place-items:center;cursor:pointer;box-shadow:var(--shadow);transition:transform .12s ease
}
.btn-icon img{width:46px;height:46px}
.btn-icon:active{transform:scale(.9)}
/* Reset tengah */
.reset-btn{
  position:absolute;left:50%;bottom:18px;transform:translateX(-50%);
  border-radius:24px;border:4px solid var(--pink-3);background:#fff;padding:10px 18px;font-weight:700;
  box-shadow:var(--shadow);cursor:pointer;transition:transform .12s ease
}
.reset-btn:active{transform:scale(.95)}

/* Modals */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;z-index:20;padding:16px}
.modal.show{display:flex}
.modal__content{
  width:min(520px,92vw);background:#fff;border:4px solid var(--pink-3);border-radius:28px;padding:18px 16px;box-shadow:var(--shadow);text-align:center
}
.choices{display:flex;gap:12px;margin:12px 0;justify-content:center;flex-wrap:wrap}
.choice-box{
  width:220px;background:var(--pink-2);border:3px solid var(--pink-3);border-radius:20px;padding:14px;cursor:pointer;
  transition:transform .12s ease, background .12s ease; box-shadow:var(--shadow)
}
.choice-box:hover{transform:translateY(-2px)}
.choice-box:active{transform:scale(.94)}
.choice-label{font-weight:700;margin-bottom:6px}
.choice-score{font-size:14px;opacity:.8}

/* Result */
.result-emote{font-size:48px;margin-bottom:10px}
.result-text{font-size:18px;margin:0 8px 8px}
.flower-box{margin-top:10px;background:#fff8fb;border:3px solid var(--pink-3);border-radius:20px;padding:10px}
.flower-box img{width:72px;display:block;margin:0 auto 6px}
.hidden{display:none}

/* Rain layer (love/star/broken-heart) */
#rainLayer{pointer-events:none;position:fixed;inset:0;overflow:hidden;z-index:15}
.rain-item{position:absolute;top:-40px;width:32px;height:32px;animation:rain 1.8s linear forwards}
@keyframes rain{
  to{transform:translateY(110vh) rotate(360deg);opacity:.1}
}

/* Responsive tune */
@media (max-width:768px){
  .character{width:120px}
  .route{gap:110px}
  .btn-icon{width:64px;height:64px}
  .btn-icon img{width:40px;height:40px}
}
/* ===== Result list (rekap pilihan user) ===== */
.result-list{
  margin:12px 0 0;
  padding:0;
  list-style:none;
  text-align:left;
  max-height:40vh;
  overflow:auto;
}
.result-list li{
  background:var(--pink-2);
  border:2px solid var(--pink-3);
  border-radius:14px;
  padding:8px 10px;
  margin-bottom:6px;
  box-shadow:var(--shadow);
  line-height:1.2;
}
.result-list .num{
  display:inline-block;
  width:22px;
  font-weight:700;
  color:#ff3f9f;
}
.result-list small{
  display:block;
  opacity:.85;
  font-size:13px;
}
